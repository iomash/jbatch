define(["jquery","//cdn.jsdelivr.net/web-animations/1.0.6/web-animations.min.js"],function(a){"use strict";return function(b,c){var d,e=a.inArray("--waitForEnd",b),f=!1,g=900;-1!==e&&e+1<b.length&&(f=!0),e=a.inArray("--duration",b),-1!==e&&e+1<b.length&&(g=b[e+1]);var h=b[1],i=document.querySelector(b[b.length-1]);if("in"===h){i.style.opacity=0,i.style.display="block",i.style.visibility="visible",d=[{transform:"translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg)",opacity:"0",offset:0},{transform:"none",opacity:"1",offset:1}];var j=i.animate(d,{duration:g,iterations:1});j.onfinish=function(){i.style.opacity=1,f&&c.done()}}else{if("out"!==h)return c.done;d=[{transform:"none",opacity:"1",offset:0},{transform:"translate3d(100%, 0, 0) rotate3d(0, 0, 1, -120deg)",opacity:"0",offset:1}];var j=i.animate(d,{duration:g,iterations:1});j.onfinish=function(){i.style.display="none",f&&c.done()}}return f?void 0:c.done}});