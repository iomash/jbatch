define(["jquery"],function(a){"use strict";return function(b,c){var d,e,f=a.inArray("--key",b);if(-1!==f&&f+1<b.length&&(d=b[f+1]),"searchArticles"===b[1])e="http://api.golem.de/api/article/search/",f=a.inArray("--page",b),-1!==f&&f+1<b.length&&(e+=b[f+1]+"/"),f=a.inArray("--itemsPerPage",b),-1!==f&&f+1<b.length&&(e+=b[f+1]+"/"),e+=b[b.length-1]+"/",a.ajax({url:e,dataType:"jsonp",jsonp:"jsonp",data:{key:d},success:function(a){c.write(a),c.done()},error:function(a,b){c.fail(b)}});else if("latestArticles"===b[1])e="http://api.golem.de/api/article/latest/",f=a.inArray("--limit",b),-1!==f&&f+1<b.length&&(e+=b[f+1]+"/"),a.ajax({url:e,dataType:"jsonp",jsonp:"jsonp",data:{key:d},success:function(a){c.write(a),c.done()},error:function(a,b){c.fail(b)}});else{if("topArticles"!==b[1])return c.fail;e="http://api.golem.de/api/article/top/",f=a.inArray("--limit",b),-1!==f&&f+1<b.length&&(e+=b[f+1]+"/"),a.ajax({url:e,dataType:"jsonp",jsonp:"jsonp",data:{key:d},success:function(a){c.write(a),c.done()},error:function(a,b){c.fail(b)}})}}});